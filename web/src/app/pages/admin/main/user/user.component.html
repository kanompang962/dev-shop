
<div class="user-container">
    <div class="section-left">
        <app-search (searchEvent)="handleSearchChange($event)"></app-search>
        <button class="btn-new" (click)="createDialog()">New User</button>
    </div>
    <div class="section-right">
        <div class="table">
            <table mat-table [dataSource]="dataSource" class="">
                <!-- Img Column -->
                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef>ลำดับ </th>
                    <td mat-cell *matCellDef="let element; let i = index"> 
                        {{i+1}}
                    </td>
                </ng-container>
                <!-- Img Column -->
                <ng-container matColumnDef="Img">
                    <th mat-header-cell *matHeaderCellDef>Profile </th>
                    <td mat-cell *matCellDef="let element"> 
                        <img [src]="element.Img ?apiUrl + avatarUrl + element.Img :'assets/images/avatar.jpeg'" alt="">
                    </td>
                </ng-container>
                <!-- FirstName Column -->
                <ng-container matColumnDef="FirstName">
                    <th mat-header-cell *matHeaderCellDef> Firstname </th>
                    <td mat-cell *matCellDef="let element"> {{element.FirstName}} </td>
                </ng-container>
                <!-- LastName Column -->
                <ng-container matColumnDef="LastName">
                    <th mat-header-cell *matHeaderCellDef> Lastname </th>
                    <td mat-cell *matCellDef="let element"> {{element.LastName}} </td>
                </ng-container>
                <!-- Username Column -->
                <ng-container matColumnDef="Username">
                    <th mat-header-cell *matHeaderCellDef> Username </th>
                    <td mat-cell *matCellDef="let element"> {{element.Username}} </td>
                </ng-container>

                <ng-container matColumnDef="Role">
                    <th mat-header-cell *matHeaderCellDef> Role </th>
                    <td mat-cell *matCellDef="let element"> 
                            {{element.Role.Name}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="Active">
                    <th mat-header-cell *matHeaderCellDef> Status </th>
                    <td mat-cell *matCellDef="let element"> 
                        <div class="status" [ngClass]="element.Active ?'status-active':'status-inactive'">
                            {{element.Active ?'Active':'Disable'}} 
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="Management">
                    <th mat-header-cell *matHeaderCellDef> management </th>
                    <td mat-cell *matCellDef="let element"> 
                        <div class="management">
                            <div class="btn-detail" (click)="updateDialog(element.ID)">
                                <mat-icon>launch</mat-icon>
                                Detail
                            </div>
                            <div class="btn-delete" (click)="deleteDialog(element.ID)">
                                <mat-icon>delete_outline</mat-icon>
                                Delete
                            </div>
                        </div>
                    </td>
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="displayedColumns" style="background: #000; color: #fff;"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[10]" showFirstLastButtons></mat-paginator>  
        </div>
    </div>
</div>

